"use strict";angular.module("souschef",["ngMaterial"]).config(function($mdThemingProvider){$mdThemingProvider.theme("default").primaryPalette("red").accentPalette("deep-orange").backgroundPalette("grey")}),angular.module("souschef").directive("ingredients",function(){return{templateUrl:"/partials/ingredients"}}),angular.module("souschef").directive("recipeCard",function(){return{templateUrl:"/partials/recipeCard"}}),angular.module("souschef").directive("refinements",function(){return{templateUrl:"/partials/refinements"}}),angular.module("souschef").directive("starRating",function(){function link(scope){scope.getFullStarCount=function(stars){return new Array(Math.floor(stars))},scope.getHalfStarCount=function(stars){var difference=Math.round(stars-Math.floor(stars));return new Array(difference)},scope.getEmptyStarCount=function(stars){var difference=5-Math.round(stars);return new Array(difference)}}return{link:link,template:'<h4><span ng-repeat="star in getFullStarCount(recipe.stars) track by $index"><i class="fa fa-star warn"></i></span><span ng-repeat="star in getHalfStarCount(recipe.stars) track by $index"><i class="fa fa-star-half-o warn"></i></span><span ng-repeat="star in getEmptyStarCount(recipe.stars) track by $index"><i class="fa fa-star-o warn"></i></span></h4>'}}),angular.module("souschef").controller("contentController",function($scope,$http){var initRefinements=function(){$http.get("/refinements").success(function(refinements){refinements?$scope.refinements=refinements:(console.log("NO REFINEMENTS!!!!!!!"),$scope.refinements={stars:0,efficiency:0,readyTime:0,madeCount:0,reviews:0},$scope.saveRefinements())})};$scope.saveRefinements=function(){$http.post("/refinements",$scope.refinements).success(function(){console.log("saved!")})};var getSortedRecipes=function(){$http.get("/recipes/sorted/10").success(function(result){$scope.weeklyRecipes=result})};$scope.updateList=function(){$scope.saveRefinements(),getSortedRecipes()},initRefinements(),getSortedRecipes()}),angular.module("souschef").controller("navbarController",function($scope){$scope.title="Sous-Chef"});